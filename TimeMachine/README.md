# Time Machine

## 进一步了解
“时间机器”会自动创建过去 24 小时的每小时备份、过去一个月的每日备份以及过去所有月份的每周备份。

如果备份磁盘已满，则最早的备份会被删除。首次备份可能需要较长时间，但您可以在备份进行时继续使用 Mac。

“时间机器”只会备份自上次备份以来有变动的文件，因此将来的备份速度会加快。
要从备份中排除某些项目，请打开“时间机器”偏好设置，点按“选项”，然后点按添加 (+) 按钮以添加要排除的项目。

要停止排除某个项目（例如外置硬盘驱动器），请选择这个项目，然后点按移除 (–) 按钮。

**更改此配置会重新进行备份！！！**

**建议排除的文件路径**如下：
```
/Applications/Xcode.app
/Library/Developer
```

如果您备份到多个磁盘，可以按住 Option 键，然后从“时间机器”菜单中选取“浏览其他备份磁盘”。

##解决时间机器备份速度太慢的问题

然而部分同学在尝试使用时间机器备份系统资料时，却发现它的首次备份速度非常慢，跟自己的网络和机器配置似乎并不匹配，甚至有时花费超过 48 小时都无法完成，即便接了网线、关掉所有 APP 后，备份速度都没有明显提升。

其实，时光机器备份太慢是由于 macOS 本身对其进行了限流的措施，对硬盘读写的频率和内存使用都做了一定的限制，主要是为了防止在备份期间影响了用户正常使用电脑工作。但如果你正在等它完成备份，再去进行系统升级或其他操作，就比较悲剧了。

## MACOS 时光机器备份加速命令

如果你真的打算让时光机器全力全速工作，那也是有办法的，就是通过命令行，用命令强制关闭系统对时光机器的限流，俗称“解除封印”。打开终端，输入以下命令：

`sudo sysctl debug.lowpri_throttle_enabled=0`

这时你就会发现时光机器的备份速度变快很多很多了！！基本能达到网络和硬盘读写的应有的速度了。

等它完成了首次的备份之后，你可以再执行下面的命令，恢复到原本限流的状态，以保证日后使用电脑时不被时光机器备份占去太多的资源导致变卡。

`sudo sysctl debug.lowpri_throttle_enabled=1`

当然了，如果你的时光机器备份是保存在 NAS 或路由器上网络存储的，都推荐连接“网线”进行首次备份，比起 WiFi 的速度很稳定性都是要高很多。另外，如果你使用 MacBook 的话，记得还要接通电源再备份才能获得最好的速度哦。

## References
[使用“时间机器”备份您的 Mac](https://support.apple.com/zh-cn/HT201250)
[MAC 时间机器 TIME MACHINE 备份速度太慢的解决方法 (加速备份命令)](https://www.freesion.com/article/2959604216/)
